<ion-header class="ion-no-border" mode="md">
  <ion-toolbar>
    <ion-title>Hello Jonathan</ion-title>
    <ion-buttons slot="end">
      <ion-button fill="clear">
        <ion-icon slot="icon-only" name="notifications"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
  <!-- <div class="newsDiv">
    <p>
      <ion-icon slot="start" name="volume-medium-outline"></ion-icon>
      Hello world, C++
    </p>
    <ion-text color="dark"> </ion-text>
  </div> -->

  <ion-card style="border-radius: 20px">
    <ion-card-header>
      <ion-card-subtitle>
        <ion-item>
          <ion-label>
            <p>{{ date | date: 'dd MMMM, YYYY' }}</p>
            <h1></h1>
          </ion-label>
        </ion-item>
      </ion-card-subtitle>
      <ion-card-title>
        <div class="tabbar">
          <ion-segment
            [(ngModel)]="type2"
            (ionChange)="segmentChanged($event)"
            swipeGesture="true"
          >
            <ion-segment-button value="ch">
              <ion-label>Clubhouse</ion-label>
            </ion-segment-button>
            <ion-segment-button value="gr">
              <ion-label>GreenRoom</ion-label>
            </ion-segment-button>
          </ion-segment>
        </div>

        <div class="clear"></div>
      </ion-card-title>
    </ion-card-header>
    <ion-card-content [ngSwitch]="type2">
      <div *ngSwitchCase="'ch'">
        <ion-grid class="noPM" *ngIf="show">
          <ion-row>
            <ion-col size="6">
              <ion-item class="ion-text-center" lines="none">
                <ion-label>
                  <p>No of Rooms</p>
                  <h1>{{ current.total_rooms }}</h1>
                  <ion-button expand="full" fill="clear">
                    <span [class]="totalColor[0]"
                      ><ion-icon [name]="totalColor[1]"></ion-icon>{{ percTotal
                      }}%</span
                    >
                  </ion-button>
                </ion-label>
              </ion-item>
            </ion-col>

            <ion-col size="6">
              <ion-item class="ion-text-center" lines="none">
                <ion-label>
                  <p>Total Listeners</p>
                  <h1>{{ current.total_listeners | number}}</h1>
                  <!-- <h2><span class="red"><ion-icon name="arrow-down-outline"></ion-icon>34%</span></h2> -->
                  <ion-button expand="full" fill="clear">
                    <span [class]="listenerColor[0]"
                      ><ion-icon [name]="listenerColor[1]"></ion-icon>{{
                      total_listeners }}%</span
                    >
                  </ion-button>
                </ion-label>
              </ion-item>
            </ion-col>
          </ion-row>

          <ion-row>
            <ion-col size="6">
              <ion-item class="ion-text-center" lines="none">
                <ion-label>
                  <p>Avg Listened time</p>
                  <h1>{{ convert(current.avg) }}</h1>
                  <ion-button expand="block" fill="clear" shape="round">
                    <span [class]="avgColor[0]"
                      ><ion-icon [name]="avgColor[1]"></ion-icon>{{ avg
                      }}%</span
                    >
                  </ion-button>
                </ion-label>
              </ion-item>
            </ion-col>

            <ion-col size="6">
              <ion-item class="ion-text-center" lines="none">
                <ion-label>
                  <p>New Followers</p>
                  <h1>{{ current.new || 0 | number}}</h1>
                  <h2>
                    <ion-button expand="block" fill="clear" shape="round">
                      <span [class]="newColor[0]"
                        ><ion-icon [name]="newColor[1]"></ion-icon>{{
                        new}}%</span
                      >
                    </ion-button>
                  </h2>
                </ion-label>
              </ion-item>
            </ion-col>
          </ion-row>
        </ion-grid>
      </div>

      <div *ngSwitchCase="'gr'">
        <ion-grid class="noPM">
          <ion-row>
            <ion-col size="6">
              <ion-item class="ion-text-center" lines="none">
                <ion-label>
                  <p>No of Rooms</p>
                  <h1>{{ current.total_rooms }}</h1>
                  <ion-button expand="full" fill="clear">
                    <span [class]="totalColor[0]"
                      ><ion-icon [name]="totalColor[1]"></ion-icon>{{ percTotal
                      }}%</span
                    >
                  </ion-button>
                </ion-label>
              </ion-item>
            </ion-col>

            <ion-col size="6">
              <ion-item class="ion-text-center" lines="none">
                <ion-label>
                  <p>Total Listeners</p>
                  <h1>{{ current.total_listeners | number}}</h1>
                  <!-- <h2><span class="red"><ion-icon name="arrow-down-outline"></ion-icon>34%</span></h2> -->
                  <ion-button expand="full" fill="clear">
                    <span [class]="listenerColor[0]"
                      ><ion-icon [name]="listenerColor[1]"></ion-icon>{{
                      total_listeners }}%</span
                    >
                  </ion-button>
                </ion-label>
              </ion-item>
            </ion-col>
          </ion-row>

          <ion-row>
            <ion-col size="6">
              <ion-item class="ion-text-center" lines="none">
                <ion-label>
                  <p>Avg Listened time</p>
                  <h1>{{ convert(current.avg) }}</h1>
                  <ion-button expand="block" fill="clear" shape="round">
                    <span [class]="avgColor[0]"
                      ><ion-icon [name]="avgColor[1]"></ion-icon>{{ avg
                      }}%</span
                    >
                  </ion-button>
                </ion-label>
              </ion-item>
            </ion-col>

            <ion-col size="6">
              <ion-item class="ion-text-center" lines="none">
                <ion-label>
                  <p>New Followers</p>
                  <h1>{{ current.new || 0 | number}}</h1>
                  <h2>
                    <ion-button expand="block" fill="clear" shape="round">
                      <span [class]="newColor[0]"
                        ><ion-icon [name]="newColor[1]"></ion-icon>{{
                        new}}%</span
                      >
                    </ion-button>
                  </h2>
                </ion-label>
              </ion-item>
            </ion-col>
          </ion-row>
        </ion-grid>
      </div>
    </ion-card-content>
  </ion-card>

  <!-- tools -->
  <div style="margin-top: 4vh">
    <ion-text color="primary">
      <h4 style="margin-bottom: 0">TOOLS</h4>
    </ion-text>
    <ion-grid fixed>
      <ion-row class="mt0">
        <ion-col size="6">
          <ion-card
            color="light"
            class="toolscard"
            [routerLink]="['/tabs/chtools']"
            routerLinkActive="router-link-active"
          >
            <ion-card-content>
              <h2>CH TOOLS</h2>
            </ion-card-content>
          </ion-card>
        </ion-col>
        <ion-col size="6">
          <ion-card
            color="success"
            class="toolscard"
            [routerLink]="['/tabs/grtools']"
            routerLinkActive="router-link-active"
          >
            <ion-card-content>
              <h2>GR TOOLS</h2>
            </ion-card-content>
          </ion-card>
        </ion-col>
      </ion-row>
    </ion-grid>
  </div>

  <!-- Canva -->
  <ion-card>
    <ion-card-header>
      <ion-card-subtitle>
        <ion-item>
          <ion-label>Data</ion-label>
          <ion-select value="peperoni" placeholder="Select Pizza">
            <ion-select-option value="total_rooms"
              >Total Rooms</ion-select-option
            >
            <ion-select-option value="total_listeners"
              >Total Listeners</ion-select-option
            >
            <ion-select-option value="total_listened"
              >Total Listened Time</ion-select-option
            >
            <ion-select-option value="avg_max_listeners"
              >Avg Max Listeners</ion-select-option
            >
            <ion-select-option value="avg">Avg Listened Time</ion-select-option>
            <ion-select-option value="new">New Followers</ion-select-option>
          </ion-select>
        </ion-item>
      </ion-card-subtitle>
    </ion-card-header>
    <div>
      <canvas
        baseChart
        height="400"
        [datasets]="lineChartData"
        [labels]="lineChartLabels"
        [options]="lineChartOptions"
        [colors]="lineChartColors"
        [legend]="lineChartLegend"
        [chartType]="lineChartType"
        [plugins]="lineChartPlugins"
      ></canvas>
    </div>
  </ion-card>

  <!-- tOP ROOMS -->
  <div style="margin-top: 4vh">
    <ion-text color="primary">
      <h4 style="margin-bottom: 0">
        <span class="ion-float-left"> TOP ROOMS </span>
        <span class="ion-float-right">
          <a href="" class="moreButton">More</a></span
        >
      </h4>
    </ion-text>
    <div class="clear"></div>

    <div class="tabbar">
      <ion-segment
        [(ngModel)]="type"
        (ionChange)="segmentChanged($event)"
        swipeGesture="true"
      >
        <ion-segment-button value="ch">
          <ion-label>Clubhouse</ion-label>
        </ion-segment-button>
        <ion-segment-button value="gr">
          <ion-label>GreenRoom</ion-label>
        </ion-segment-button>
      </ion-segment>
    </div>

    <div class="clear"></div>
  </div>
  <div [ngSwitch]="type">
    <ion-list *ngSwitchCase="'ch'">
      <ion-item>
        <ion-label>
          <h2>Clubhouse Rooms</h2>
          <!-- <p>Room desc Lorem ipsum dolor sit amet.</p> -->
          <p>Date & Time</p>
        </ion-label>
      </ion-item>
      <ion-item>
        <ion-label>
          <h2>Room Title2</h2>
          <!-- <p>Lorem ipsum dolor sit amet.</p> -->
          <p>Date & Time</p>
        </ion-label>
      </ion-item>
    </ion-list>

    <ion-list *ngSwitchCase="'gr'">
      <ion-item>
        <ion-label>
          <h2>GreenRoom Rooms</h2>
          <!-- <p>Room desc Lorem ipsum dolor sit amet.</p> -->
          <p>Date & Time</p>
        </ion-label>
      </ion-item>
      <ion-item>
        <ion-label>
          <h2>GR Rooms 2</h2>
          <!-- <p>Lorem ipsum dolor sit amet.</p> -->
          <p>Date & Time</p>
        </ion-label>
      </ion-item>
    </ion-list>
  </div>
</ion-content>
