{"version":3,"sources":["./src/app/chtools/track/track-routing.module.ts","./src/app/chtools/track/track.module.ts","./src/app/chtools/track/track.page.ts","./src/app/chtools/track/track.page.scss","./src/app/chtools/track/track.page.html"],"names":[],"mappings":"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","file":"src_app_chtools_track_track_module_ts.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { TrackPage } from './track.page';\n// import { TrackDetailsComponent } from './track-details/track-details.component';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: TrackPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class TrackPageRoutingModule {}\n","import { NgModule, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n// import { InAppBrowser } from '@ionic-native/in-app-browser';\nimport { InAppBrowser } from '@ionic-native/in-app-browser/ngx';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { TrackPageRoutingModule } from './track-routing.module';\nimport { ChartsModule } from 'ng2-charts';\n// import { File } from '@ionic-native/file/ngx';\n// import { HTTP } from '@ionic-native/http/ngx';\nimport { TrackPage } from './track.page';\n// import { TrackDetailsComponent } from \"./track-details/track-details.component\";\n// import { CUSTOM_ELEMENTS_SCHEMA } from '@angular/compiler';\n// import { TrackDetailsComponent } from './track-details/track-details.component';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    TrackPageRoutingModule,\n    ChartsModule,\n  ],\n  declarations: [TrackPage],\n  providers: [InAppBrowser],\n  schemas: [ CUSTOM_ELEMENTS_SCHEMA ],\n})\nexport class TrackPageModule {}\n","/* eslint-disable @typescript-eslint/naming-convention */\nimport { Component, OnInit, ViewChild } from '@angular/core';\nimport {\n  AlertController,\n  LoadingController,\n  ToastController,\n} from '@ionic/angular';\nimport { AppService } from '../../_services/app.service';\nimport { Router } from '@angular/router';\nimport { NgForm } from '@angular/forms';\n@Component({\n  selector: 'app-track',\n  templateUrl: './track.page.html',\n  styleUrls: ['./track.page.scss'],\n})\nexport class TrackPage implements OnInit {\n  @ViewChild('trackForm') slForm: NgForm;\n  // tslint:disable-next-line: variable-name\n  api_token: any;\n  page = 1;\n  allRooms: any;\n  model: any = {};\n  submitted: boolean;\n  // trackForm: NgForm;\n  constructor(\n    private loadingController: LoadingController,\n    private toastController: ToastController,\n    private alertController: AlertController,\n    private app: AppService,\n    private router: Router\n  ) {}\n\n  async ngOnInit() {\n    // localStorage.removeItem('refresh');\n    const d = localStorage.getItem('refresh');\n    if (d !== null) {\n      localStorage.removeItem('refresh');\n      // tslint:disable-next-line: only-arrow-functions\n      // eslint-disable-next-line prefer-arrow/prefer-arrow-functions\n      setTimeout(() => {\n        window.location.reload();\n      }, 1000);\n    }\n    // alert(d);\n    //\n    const user: any = await JSON.parse(localStorage.getItem('user'));\n    const result = user.result;\n    this.api_token = result.api_token;\n    this.getRoomHistory();\n  }\n\n  async presentToast(color, message) {\n    const toast = await this.toastController.create({\n      message,\n      color,\n      duration: 3000,\n    });\n    toast.present();\n  }\n\n  async getRoomHistory() {\n    const loading = await this.loadingController.create({\n      spinner: null,\n      cssClass: 'custom-loading',\n    });\n    await loading.present();\n    this.app.getActiveRooms(this.page, this.api_token).subscribe(\n      async (res: any) => {\n        await loading.dismiss();\n        // console.log(res);\n        if (res.status === 'success') {\n          this.allRooms = res.result;\n        } else if (res.status === 'upgrade') {\n          const color = 'danger';\n          this.presentToast(color, res.message);\n          // this.alertService.danger(res.message);\n          this.router.navigateByUrl('/tabs/upgrade');\n        } else if (res.status === 'validate') {\n          // this.alertService.danger(res.message);\n          const color = 'danger';\n          this.presentToast(color, res.message);\n          this.router.navigateByUrl('/auth/validate/ ' + this.api_token);\n        } else {\n          // this.alertService.danger(res.message);\n          const color = 'danger';\n          this.presentToast(color, res.message);\n        }\n      },\n      (err) => {\n        console.error(err);\n      }\n    );\n  }\n\n  analyze(roomId) {\n    // alert(roomId);\n    this.router.navigateByUrl('/tabs/chtools/track/' + roomId);\n  }\n\n  onSubmit() {\n    // console.log(this.model);\n    const str = this.model.roomLink;\n    const splitted = str.split('/');\n    // console.log(splitted[4]);\n    const data = splitted[4];\n    this.analyze(data);\n    // this.trackForm.reset();\n    this.submitted = true;\n    this.slForm.reset();\n  }\n\n  next(fastForward) {\n    if (fastForward === 'forward') {\n      this.page += 1;\n      this.getRoomHistory();\n    } else {\n      if (this.page > 1) {\n        this.page -= 1;\n        this.getRoomHistory();\n      } else {\n        this.page = 1;\n      }\n    }\n    // alert(this.page);\n  }\n}\n","export default \"ion-card.test {\\n  width: 100% !important;\\n}\\n\\nion-item {\\n  border-radius: 0 !important;\\n  --border-radius: 0 !important ;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRyYWNrLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLHNCQUFBO0FBQ0Y7O0FBQ0E7RUFDRSwyQkFBQTtFQUNBLDhCQUFBO0FBRUYiLCJmaWxlIjoidHJhY2sucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaW9uLWNhcmQudGVzdHtcclxuICB3aWR0aDogMTAwJSAhaW1wb3J0YW50O1xyXG59XHJcbmlvbi1pdGVte1xyXG4gIGJvcmRlci1yYWRpdXM6IDAgIWltcG9ydGFudDtcclxuICAtLWJvcmRlci1yYWRpdXM6IDAgIWltcG9ydGFudFxyXG59XHJcbiJdfQ== */\";","export default \"<ion-header class=\\\"ion-no-border\\\" mode=\\\"ios\\\">\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button menu=\\\"rayo\\\" autoHide=\\\"false\\\"></ion-menu-button>\\n    </ion-buttons>\\n    <ion-title> Track a Room</ion-title>\\n    <ion-buttons slot=\\\"end\\\">\\n      <ion-button fill=\\\"clear\\\" [routerLink]=\\\"['/tabs']\\\" routerLinkActive=\\\"router-link-active\\\" routerDirection=\\\"back\\\">\\n        <ion-icon name=\\\"close\\\" slot=\\\"icon-only\\\" style=\\\"width: 36px !important; height: 36px !important\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <ion-card class=\\\"ion-margin\\\">\\n    <ion-card-content>\\n      <form name=\\\"form\\\" #trackForm=\\\"ngForm\\\" (ngSubmit)=\\\"trackForm.valid && onSubmit()\\\">\\n        <ion-item class=\\\"ion-margin-bottom\\\">\\n          <!-- <ion-label position=\\\"floating\\\">Clubhouse room link</ion-label> -->\\n          <ion-input minlength=\\\"10\\\" name=\\\"roomLink\\\" class=\\\"form-control\\\" placeholder=\\\"Enter Clubhouse room link\\\"\\n            [(ngModel)]=\\\"model.roomLink\\\" #roomLink=\\\"ngModel\\\"\\n            [ngClass]=\\\"{ 'is-invalid': trackForm.submitted && roomLink.invalid }\\\" required></ion-input>\\n        </ion-item>\\n        <ion-button type=\\\"submit\\\" color=\\\"primary\\\" [disabled]=\\\"!trackForm.valid\\\" expand=\\\"full\\\">Track Room</ion-button>\\n      </form>\\n    </ion-card-content>\\n  </ion-card>\\n\\n  <ion-card *ngIf=\\\"allRooms?.length <= 0\\\" class=\\\"ion-margin\\\">\\n    <ion-card-content>\\n      <ion-item>\\n        <ion-label>\\n          <h3>No room available</h3>\\n        </ion-label>\\n      </ion-item>\\n    </ion-card-content>\\n  </ion-card>\\n\\n  <ion-card *ngIf=\\\"allRooms?.length > 0\\\" class=\\\"ion-margin\\\">\\n    <ion-card-header>\\n      <ion-card-title>Active Rooms</ion-card-title>\\n    </ion-card-header>\\n  </ion-card>\\n\\n  <ion-item *ngFor=\\\"let allRoom of allRooms\\\" lines=\\\"none\\\">\\n    <ion-card class=\\\"test\\\">\\n      <ion-card-header (click)=\\\"analyze(allRoom.channel)\\\" class=\\\"ion-text-center\\\">\\n        <ion-card-title>{{ allRoom.topic }}</ion-card-title>\\n      </ion-card-header>\\n      <ion-card-content>\\n        <div *ngIf=\\\"allRoom.date_ended;else templateName\\\">\\n          <ion-item>\\n            <ion-label>\\n              <!-- <p></p> -->\\n              <h3>\\n                <span class=\\\"ion-float-left\\\">Room Status</span>\\n                <span class=\\\"ion-float-right\\\">Ended</span>\\n              </h3>\\n            </ion-label>\\n          </ion-item>\\n          <ion-item>\\n            <ion-label>\\n              <!-- <p>Room Status</p> -->\\n              <h3>\\n                <span class=\\\"ion-float-left\\\">Ended on </span>\\n                <span class=\\\"ion-float-right\\\"> {{ allRoom.date_ended }} </span>\\n              </h3>\\n            </ion-label>\\n          </ion-item>\\n        </div>\\n        <ng-template #templateName>\\n          <ion-item>\\n            <ion-label>\\n              <!-- <p>Room Status</p> -->\\n              <h3>\\n                <span class=\\\"ion-float-left\\\">Room Status</span>\\n                <span class=\\\"ion-float-right\\\">Active</span>\\n              </h3>\\n            </ion-label>\\n          </ion-item>\\n        </ng-template>\\n      </ion-card-content>\\n    </ion-card>\\n  </ion-item>\\n  <ion-item *ngIf=\\\"allRooms?.length > 0\\\">\\n    <ion-grid class=\\\"ion-text-center\\\" style=\\\"background: #fff !important\\\">\\n      <ion-row>\\n        <ion-col size=\\\"3\\\"></ion-col>\\n        <ion-col size=\\\"3\\\">\\n          <ion-button fill=\\\"clear\\\" (click)=\\\"next('back')\\\">\\n            <ion-icon slot=\\\"icon-only\\\" name=\\\"play-back-outline\\\"></ion-icon>\\n          </ion-button>\\n        </ion-col>\\n        <ion-col size=\\\"3\\\">\\n          <ion-button fill=\\\"clear\\\" (click)=\\\"next('forward')\\\">\\n            <ion-icon slot=\\\"icon-only\\\" name=\\\"play-forward-outline\\\"></ion-icon>\\n          </ion-button>\\n        </ion-col>\\n        <ion-col size=\\\"3\\\"></ion-col>\\n      </ion-row>\\n    </ion-grid>\\n  </ion-item>\\n</ion-content>\\n\";"],"sourceRoot":"webpack:///"}