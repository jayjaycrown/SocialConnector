{"version":3,"sources":["./src/app/grtools/weekly-report/weekly-report-routing.module.ts","./src/app/grtools/weekly-report/weekly-report.module.ts","./src/app/grtools/weekly-report/weekly-report.page.ts","./src/app/grtools/weekly-report/weekly-report.page.scss","./src/app/grtools/weekly-report/weekly-report.page.html"],"names":[],"mappings":"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","file":"src_app_grtools_weekly-report_weekly-report_module_ts.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { WeeklyReportPage } from './weekly-report.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: WeeklyReportPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class WeeklyReportPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { WeeklyReportPageRoutingModule } from './weekly-report-routing.module';\n\nimport { WeeklyReportPage } from './weekly-report.page';\n\nimport { File } from '@ionic-native/file/ngx';\nimport { SocialSharing } from '@ionic-native/social-sharing/ngx';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    WeeklyReportPageRoutingModule\n  ],\n  providers: [File, SocialSharing],\n  declarations: [WeeklyReportPage]\n})\nexport class WeeklyReportPageModule {}\n","/* eslint-disable @typescript-eslint/naming-convention */\nimport { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport {\n  LoadingController,\n  ToastController,\n  AlertController, Platform\n} from '@ionic/angular';\nimport * as moment from 'moment';\nimport { AppService } from '../../_services/app.service';\nimport { format } from 'date-fns';\nimport { File } from '@ionic-native/file/ngx';\nimport { Papa } from 'ngx-papaparse';\nimport { SocialSharing } from '@ionic-native/social-sharing/ngx';\nimport { GrServiceService } from 'src/app/_services/gr-service.service';\n\n@Component({\n  selector: 'app-weekly-report',\n  templateUrl: './weekly-report.page.html',\n  styleUrls: ['./weekly-report.page.scss'],\n})\nexport class WeeklyReportPage implements OnInit {\n  setDisplay: boolean;\n  // tslint:disable-next-line: variable-name\n  avg_max_listeners: any;\n  model: any = {};\n  allRooms: any = [];\n  moderators: any = {};\n  roomId: any;\n  // tslint:disable-next-line: variable-name\n  api_token: any;\n  page = 1;\n  date: any;\n  roomDetail: any = {};\n  \texportedData: any = [];\n  constructor(\n    private app: GrServiceService,\n    private router: Router,\n    private loadingController: LoadingController,\n    private toastController: ToastController,\n    private alertController: AlertController,\n     private file: File,\n    private socialSharing: SocialSharing,\n    private papa: Papa,\n    private plt: Platform\n  ) {}\n\n  async ngOnInit() {\n    const user: any = await JSON.parse(localStorage.getItem('user'));\n    const result = user.result;\n    this.api_token = result.api_token;\n    // const date1 = new Date();\n    // const date = new Date(date1.toUTCString());\n    this.date = moment().format('YYYY-MM-DD');\n    this.weeklyRoomHistory();\n  }\n\n  async presentToast(color, message) {\n    const toast = await this.toastController.create({\n      message,\n      color,\n      duration: 3000,\n    });\n    toast.present();\n  }\n\n  async weeklyRoomHistory() {\n    this.exportedData = [];\n    const date: Date = this.date;\n    const loading = await this.loadingController.create({\n      spinner: null,\n      cssClass: 'custom-loading',\n    });\n    await loading.present();\n    this.app\n      .weeklyRoomHistory(this.api_token, this.page, this.date)\n      .subscribe(async (res: any) => {\n        // console.log(res);\n        await loading.dismiss();\n        if (res.status === 'success') {\n          this.roomDetail = res.result;\n          this.avg_max_listeners = this.roomDetail.avg_max_listeners;\n          this.allRooms = res.result.rooms;\n          this.exportedData = [\n\t\t\t\t\t{\n\t\t\t\t\t\tavg_max_listeners: this.roomDetail.avg_max_listeners,\n\t\t\t\t\t\ttotal_listeners: this.roomDetail.total_listeners,\n\t\t\t\t\t\ttotal_listened: this.roomDetail.total_listened,\n\t\t\t\t\t\tavg: this.roomDetail.avg,\n\t\t\t\t\t\tnew : this.roomDetail.new,\n\t\t\t\t\t\ttotal_rooms: this.roomDetail.total_rooms,\n\t\t\t\t\t\tdate\n\t\t\t\t\t}\n\t\t\t\t];\n        } else if (res.status === 'upgrade') {\n          const color = 'danger';\n          this.presentToast(color, res.message);\n          // this.alertService.danger(res.message);\n          this.router.navigateByUrl('/home/upgrade');\n        } else if (res.status === 'validate') {\n          const color = 'danger';\n          this.presentToast(color, res.message);\n          // this.alertService.danger(res.message);\n          this.router.navigateByUrl('/auth/validategr/ ' + this.api_token);\n        } else {\n          // this.alertService.danger(res.message);\n        }\n\n        // console.log(this.allRooms);\n      });\n  }\n  analyze(roomId) {\n    // alert(roomId);\n    this.router.navigateByUrl('/tabs/grtools/track/' + roomId);\n  }\n\n  async onSubmit() {\n    this.exportedData = [];\n\n    // // console.log(this.model);\n    // const date = this.model.date;\n    const loading = await this.loadingController.create({\n      spinner: null,\n      cssClass: 'custom-loading',\n    });\n    await loading.present();\n    let date = this.model.date;\n    date = format(new Date(date), 'yyyy-MM-dd');\n    //  console.log(date);\n    this.app\n      .weeklyRoomHistory(this.api_token, this.page, date)\n      .subscribe(async (res: any) => {\n        await loading.dismiss();\n        // console.log(res);\n        if (res.status === 'success') {\n          this.roomDetail = res.result;\n          // console.log( this.roomDetail);\n          this.avg_max_listeners = this.roomDetail.avg_max_listeners;\n          this.allRooms = res.result.rooms;\n          this.exportedData = [\n\t\t\t\t\t{\n\t\t\t\t\t\tavg_max_listeners: this.roomDetail.avg_max_listeners,\n\t\t\t\t\t\ttotal_listeners: this.roomDetail.total_listeners,\n\t\t\t\t\t\ttotal_listened: this.roomDetail.total_listened,\n\t\t\t\t\t\tavg: this.roomDetail.avg,\n\t\t\t\t\t\tnew : this.roomDetail.new,\n\t\t\t\t\t\ttotal_rooms: this.roomDetail.total_rooms,\n\t\t\t\t\t\tdate\n\t\t\t\t\t}\n\t\t\t\t];\n        } else if (res.status === 'upgrade') {\n          const color = 'danger';\n          this.presentToast(color, res.message);\n          // this.alertService.danger(res.message);\n          this.router.navigateByUrl('/home/upgrade');\n        } else if (res.status === 'validate') {\n          const color = 'danger';\n          this.presentToast(color, res.message);\n          // this.alertService.danger(res.message);\n          this.router.navigateByUrl('/auth/validategr/ ' + this.api_token);\n        } else {\n          // this.alertService.danger(res.message);\n          const color = 'warning';\n          this.presentToast(color, res.message);\n        }\n\n        // console.log(this.allRooms);\n      });\n  }\n\n  next(fastForward) {\n    if (fastForward === 'forward') {\n      this.page += 1;\n      this.weeklyRoomHistory();\n    } else {\n      if (this.page > 1) {\n        this.page -= 1;\n        this.weeklyRoomHistory();\n      } else {\n        this.page = 1;\n      }\n    }\n  }\n\n  transformMinute(value: number): string {\n    const hours = Math.floor(value / 60);\n    const minutes = Math.floor(value % 60);\n    return hours + ' hrs ' + minutes + ' mins';\n  }\n\n  export() {\n    const header = [];\n    const data = this.exportedData[0];\n    for (const property in data) {\n      if ( ! data.hasOwnProperty(property)) {\n          continue;\n      }\n      header.push(property);\n    }\n\n    const csv = this.papa.unparse({\n      fields: header,\n      data: this.exportedData\n    });\n    console.log(csv);\n    if (this.plt.is('capacitor') || this.plt.is('cordova')) {\n      this.file.writeFile(this.file.dataDirectory, 'weekly_report.csv', csv, { replace: true })\n        .then(res => {\n          this.socialSharing.share(null, null, res.nativeURL, null);\n        }).catch();\n    } else {\n      const blob = new Blob([csv]);\n      const a = window.document.createElement('a');\n      a.href = window.URL.createObjectURL(blob);\n      a.download = 'weekly_report.csv';\n      document.body.appendChild(a);\n      a.click();\n      document.body.removeChild(a);\n    }\n    // console.log(this.newTop)\n\n\t}\n}\n","export default \"ion-card.test {\\n  width: 100% !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlZWtseS1yZXBvcnQucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0Usc0JBQUE7QUFDRiIsImZpbGUiOiJ3ZWVrbHktcmVwb3J0LnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImlvbi1jYXJkLnRlc3R7XHJcbiAgd2lkdGg6IDEwMCUgIWltcG9ydGFudDtcclxufVxyXG4iXX0= */\";","export default \"<ion-header class=\\\"ion-no-border\\\" mode=\\\"ios\\\">\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button autoHide=\\\"false\\\"></ion-menu-button>\\n    </ion-buttons>\\n    <ion-title>\\n      GR TOOLS\\n    </ion-title>\\n    <ion-buttons slot=\\\"end\\\">\\n      <ion-button fill=\\\"clear\\\" [routerLink]=\\\"['/tabs']\\\" routerLinkActive=\\\"router-link-active\\\" >\\n        <ion-icon name=\\\"close\\\" slot=\\\"icon-only\\\" style=\\\"width: 36px !important; height: 36px !important;\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <ion-card>\\n    <ion-card-content>\\n      <form name=\\\"form\\\" #historyForm=\\\"ngForm\\\" (ngSubmit)=\\\"historyForm.valid && onSubmit()\\\">\\n        <ion-item  lines=\\\"none\\\"  lines=\\\"none\\\" >\\n          <ion-label position=\\\"floating\\\">MM/DD/YYYY</ion-label>\\n          <ion-datetime name=\\\"date\\\" [(ngModel)]=\\\"model.date\\\" #email=\\\"ngModel\\\" displayFormat=\\\"MM/DD/YYYY\\\"\\n            min=\\\"2016-01-01\\\" max=\\\"2022-12-31\\\" required>\\n          </ion-datetime>\\n        </ion-item>\\n        <ion-button type=\\\"submit\\\" [disabled]=\\\"!historyForm.valid\\\" expand=\\\"full\\\" color=\\\"primary\\\">Get Report\\n        </ion-button>\\n      </form>\\n    </ion-card-content>\\n  </ion-card>\\n  <ion-card>\\n    <ion-card-header>\\n      <ion-button expand=\\\"full\\\" color=\\\"primary\\\" (click)=\\\"export()\\\">Export to csv</ion-button>\\n    </ion-card-header>\\n    <ion-card-content>\\n      <ion-list>\\n        <ion-item  class=\\\"ion-text-center\\\">\\n          <ion-label>\\n            <p>Average max listeners</p>\\n            <h2>{{ avg_max_listeners }}</h2>\\n          </ion-label>\\n        </ion-item>\\n        <ion-item  lines=\\\"full\\\" class=\\\"ion-text-center\\\">\\n          <ion-label>\\n            <p>Total listener</p>\\n            <h2>{{ roomDetail.total_listeners }}</h2>\\n          </ion-label>\\n        </ion-item>\\n        <ion-item lines=\\\"full\\\" class=\\\"ion-text-center\\\">\\n          <ion-label>\\n            <p>Total listened</p>\\n            <h2>{{transformMinute(roomDetail.total_listened)}}</h2>\\n          </ion-label>\\n        </ion-item>\\n        <ion-item lines=\\\"full\\\" class=\\\"ion-text-center\\\">\\n          <ion-label>\\n            <p>Avg listened time</p>\\n            <h2>{{ roomDetail.avg }}m</h2>\\n          </ion-label>\\n        </ion-item>\\n        <ion-item lines=\\\"full\\\" class=\\\"ion-text-center\\\">\\n          <ion-label>\\n            <p>Total Rooms</p>\\n            <h2>{{ roomDetail.total_rooms }}</h2>\\n          </ion-label>\\n        </ion-item>\\n        <ion-item lines=\\\"full\\\" class=\\\"ion-text-center\\\">\\n          <ion-label>\\n            <p>New Followers</p>\\n            <h2><span *ngIf=\\\"roomDetail.new > 0\\\" >+</span>{{ roomDetail.new }}</h2>\\n          </ion-label>\\n        </ion-item>\\n      </ion-list>\\n    </ion-card-content>\\n  </ion-card>\\n  <div class=\\\"ion-padding\\\" *ngIf=\\\"roomDetail.rooms?.length <= 0\\\">\\n    <ion-item-divider>\\n      <ion-label>\\n        <h2>No room available</h2>\\n      </ion-label>\\n    </ion-item-divider>\\n  </div>\\n\\n  <div class=\\\"ion-padding\\\">\\n    <ion-card class=\\\"\\\" *ngIf=\\\"roomDetail.rooms?.length > 0\\\">\\n      <ion-card-header class=\\\"ion-text-center\\\">\\n        <ion-card-title>All Rooms</ion-card-title>\\n      </ion-card-header>\\n    </ion-card>\\n  </div>\\n  <ion-item *ngFor=\\\"let allRoom of roomDetail.rooms\\\" lines=\\\"none\\\">\\n    <ion-card (click)=\\\"analyze(allRoom.channel)\\\" class=\\\"test\\\">\\n      <ion-card-header class=\\\"ion-text-center\\\">\\n        <ion-card-title>{{ allRoom.topic }}</ion-card-title>\\n      </ion-card-header>\\n      <ion-card-content class=\\\"ion-text-center\\\">\\n        <ion-grid>\\n          <ion-row>\\n            <ion-col size=\\\"6\\\">\\n              <ion-item lines=\\\"none\\\" class=\\\"ion-text-center\\\">\\n                <ion-label>\\n                  <p>Total Listeners</p>\\n                  <h2>{{ allRoom.end_total_listeners }}</h2>\\n                </ion-label>\\n              </ion-item>\\n            </ion-col>\\n            <ion-col size=\\\"6\\\">\\n              <ion-item lines=\\\"none\\\" class=\\\"ion-text-center\\\">\\n                <ion-label>\\n                  <p>Total Speakers</p>\\n                  <h2>{{ allRoom.end_total_speakers }}</h2>\\n                </ion-label>\\n              </ion-item>\\n            </ion-col>\\n          </ion-row>\\n          <ion-row>\\n            <ion-col size=\\\"12\\\">\\n              <ion-item lines=\\\"none\\\" class=\\\"ion-text-center\\\">\\n                <div *ngIf=\\\"allRoom.date_ended;else templateName\\\">\\n                  <ion-label>\\n                    <h3>Room Status: Ended</h3>\\n                  </ion-label>\\n                </div>\\n                <ng-template #templateName>\\n                  <ion-label>\\n                    <h3>Room Status: Active</h3>\\n                  </ion-label>\\n                </ng-template>\\n              </ion-item>\\n            </ion-col>\\n          </ion-row>\\n        </ion-grid>\\n\\n\\n\\n      </ion-card-content>\\n    </ion-card>\\n  </ion-item>\\n\\n  <ion-item *ngIf=\\\"allRooms?.length > 0\\\">\\n    <ion-grid class=\\\"ion-text-center\\\" style=\\\"background:#fff !important\\\">\\n      <ion-row>\\n        <ion-col size=\\\"3\\\"></ion-col>\\n        <ion-col size=\\\"3\\\">\\n          <ion-button fill=\\\"clear\\\" (click)=\\\"next('back')\\\">\\n            <ion-icon slot=\\\"icon-only\\\" name=\\\"play-back-outline\\\"></ion-icon>\\n          </ion-button>\\n        </ion-col>\\n        <ion-col size=\\\"3\\\">\\n          <ion-button fill=\\\"clear\\\" (click)=\\\"next('forward')\\\">\\n            <ion-icon slot=\\\"icon-only\\\" name=\\\"play-forward-outline\\\"></ion-icon>\\n          </ion-button>\\n        </ion-col>\\n        <ion-col size=\\\"3\\\"></ion-col>\\n      </ion-row>\\n    </ion-grid>\\n  </ion-item>\\n</ion-content>\\n\";"],"sourceRoot":"webpack:///"}