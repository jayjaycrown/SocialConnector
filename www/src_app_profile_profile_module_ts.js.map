{"version":3,"sources":["./src/app/profile/profile-routing.module.ts","./src/app/profile/profile.module.ts","./src/app/profile/profile.page.ts","./src/app/profile/profile.page.scss","./src/app/profile/profile.page.html"],"names":[],"mappings":"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","file":"src_app_profile_profile_module_ts.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ProfilePage } from './profile.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ProfilePage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ProfilePageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ProfilePageRoutingModule } from './profile-routing.module';\n\nimport { ProfilePage } from './profile.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ProfilePageRoutingModule\n  ],\n  declarations: [ProfilePage]\n})\nexport class ProfilePageModule {}\n","import { Router } from '@angular/router';\n/* eslint-disable @typescript-eslint/naming-convention */\nimport { AuthService } from './../_services/auth.service';\nimport { Component, OnInit } from '@angular/core';\nimport { LoadingController, ToastController } from '@ionic/angular';\nimport * as moment from 'moment';\n\n@Component({\n  selector: 'app-profile',\n  templateUrl: './profile.page.html',\n  styleUrls: ['./profile.page.scss'],\n})\nexport class ProfilePage implements OnInit {\n  api_token: any;\n  ch_user_id: any;\n  greenroom_user_id: any;\n  showLinkCh = false;\n  showLinkGr = false;\n  rally_user_id: any;\n  showLinkRally: boolean;\n  ch_user_email: any;\n  result: any = {};\n  data: any = {};\n  date2: string;\n  // tslint:disable-next-line: variable-name\n  subscription_expiry: any;\n  upgrade = false;\n  freeTrial = false;\n\n  constructor(\n    private auth: AuthService,\n    private router: Router,\n    private loadingController: LoadingController,\n    private toastController: ToastController\n  ) { }\n\n  async ionViewWillEnter(){\n    const user: any = await JSON.parse(localStorage.getItem('user'));\n    const result = user.result;\n    this.api_token = result.api_token;\n    this.ch_user_id = result.ch_user_id;\n    this.ch_user_email = result.email;\n    this.greenroom_user_id = result.greenroom_user_id;\n    this.rally_user_id = result.rally_user_id;\n\n    if (this.ch_user_id == null || this.ch_user_id === '') {\n      this.showLinkCh = true;\n    } else{\n      this.showLinkCh = false;\n    }\n\n    if (this.greenroom_user_id == null || this.greenroom_user_id === '') {\n      this.showLinkGr = true;\n    }else{\n      this.showLinkGr = false;\n    }\n\n    if (this.rally_user_id == null || this.rally_user_id === '') {\n      this.showLinkRally = true;\n    }else{\n      this.showLinkRally = false;\n    }\n\n    this.date2 = moment().format('YYYY-MM-DD');\n    this.getDetails();\n  }\n\n  ngOnInit() {\n  }\n\n  getDetails() {\n    this.auth.getDetails(this.api_token).subscribe((res: any) => {\n      // console.log(res);\n      if (res.status === 'success') {\n        this.result = res.result;\n        // this.data = JSON.parse(this.result.data);\n        if (this.result.subscription_expiry === null) {\n          this.freeTrial = true;\n          this.upgrade = true;\n        } else if (this.result.subscription_expiry < this.date2) {\n          this.upgrade = true;\n          this.freeTrial = false;\n        } else {\n          this.upgrade = false;\n          this.freeTrial = false;\n        }\n      } else if (res.status === 'validate') {\n        const color = 'danger';\n        this.presentToast(color, res.message);\n        // this.alertService.danger(res.message);\n        this.router.navigateByUrl('/auth/validate/ ' + this.api_token);\n      } else {\n        const color = 'danger';\n        this.presentToast(color, res.message);\n        // this.alertService.danger(res.message);\n      }\n      // console.log(res);\n\n      // console.log(this.data);\n    }, err => {\n      const color = 'danger';\n      this.presentToast(color, err.message);\n      // this.alertService.danger(err.message);\n    });\n  }\n\n  async freetrial() {\n    const loading = await this.loadingController.create({\n      spinner: null,\n      cssClass: 'custom-loading'\n    });\n    await loading.present();\n    this.auth.freeTrial(this.api_token).subscribe(async (res: any) => {\n      await loading.dismiss();\n      const color = 'primary';\n      this.presentToast(color, res.message);\n    });\n  }\n\n\n  async presentToast(color, message) {\n    const toast = await this.toastController.create({\n      message,\n      color,\n      duration: 1000\n    });\n    toast.present();\n  }\n\n  onClick() {\n    this.auth.logout();\n  }\n\n  linkCH(){\n    this.router.navigateByUrl('/auth/validate/' + this.api_token);\n  }\n\n  linkGR(){\n    this.router.navigateByUrl('/auth/validategr/' + this.api_token);\n  }\n\n  linkRally(){\n\t\tconsole.log(`https://garyvip.managemych.club/link_rally?ch_user_id=${this.ch_user_id}&email=${this.ch_user_email}`);\n\t\twindow.open(`https://garyvip.managemych.club/link_rally?ch_user_id=${this.ch_user_id}&email=${this.ch_user_email}`);\n  }\n\n}\n","export default \"p {\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  display: -webkit-box;\\n  -webkit-line-clamp: 2;\\n  /* number of lines to show */\\n  -webkit-box-orient: vertical;\\n}\\n\\nion-item {\\n  margin-bottom: 10px;\\n}\\n\\np {\\n  font-size: 0.8em !important;\\n  text-transform: capitalize !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2ZpbGUucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsZ0JBQUE7RUFDQSx1QkFBQTtFQUNBLG9CQUFBO0VBQ0EscUJBQUE7RUFBdUIsNEJBQUE7RUFDdkIsNEJBQUE7QUFFRjs7QUFDQTtFQUNFLG1CQUFBO0FBRUY7O0FBQUE7RUFDRSwyQkFBQTtFQUNBLHFDQUFBO0FBR0YiLCJmaWxlIjoicHJvZmlsZS5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJwIHtcclxuICBvdmVyZmxvdzogaGlkZGVuO1xyXG4gIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xyXG4gIGRpc3BsYXk6IC13ZWJraXQtYm94O1xyXG4gIC13ZWJraXQtbGluZS1jbGFtcDogMjsgLyogbnVtYmVyIG9mIGxpbmVzIHRvIHNob3cgKi9cclxuICAtd2Via2l0LWJveC1vcmllbnQ6IHZlcnRpY2FsO1xyXG59XHJcblxyXG5pb24taXRlbSB7XHJcbiAgbWFyZ2luLWJvdHRvbTogMTBweDtcclxufVxyXG5we1xyXG4gIGZvbnQtc2l6ZTogLjhlbSAhaW1wb3J0YW50O1xyXG4gIHRleHQtdHJhbnNmb3JtOiBjYXBpdGFsaXplICFpbXBvcnRhbnQ7XHJcbn1cclxuIl19 */\";","export default \"<ion-header class=\\\"ion-no-border\\\">\\n  <ion-toolbar>\\n    <ion-title>\\n      Profile\\n    </ion-title>\\n    <ion-buttons slot=\\\"end\\\">\\n      <ion-button (click)=\\\"onClick()\\\" color=\\\"dark\\\">\\n        <ion-icon slot=\\\"start\\\" name=\\\"log-out\\\"> </ion-icon> Log out\\n      </ion-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <ion-card>\\n    <ion-card-content>\\n      <ion-item>\\n        <ion-icon slot=\\\"start\\\" name=\\\"person-outline\\\"></ion-icon>\\n        <ion-label>\\n          <p>Name</p>\\n          <h2>{{ result.name | titlecase }}</h2>\\n        </ion-label>\\n      </ion-item>\\n      <ion-item>\\n        <ion-icon slot=\\\"start\\\" name=\\\"mail-outline\\\"></ion-icon>\\n        <ion-label>\\n          <p>Email</p>\\n          <h2>{{ result.email }}</h2>\\n        </ion-label>\\n      </ion-item>\\n\\n      <ion-item>\\n        <ion-icon slot=\\\"start\\\" name=\\\"cash-outline\\\"></ion-icon>\\n        <ion-label>\\n          <p>Current Plan</p>\\n          <h2>{{result.package | titlecase}} <span *ngIf=\\\"upgrade\\\">(Expired)</span></h2>\\n        </ion-label>\\n      </ion-item>\\n\\n      <ion-item *ngIf=\\\"result?.balance\\\">\\n        <ion-icon slot=\\\"start\\\" name=\\\"cash\\\"></ion-icon>\\n        <ion-label>\\n          <p>$GARY Balance</p>\\n          <h2>{{ result?.balance }}</h2>\\n        </ion-label>\\n      </ion-item>\\n\\n      <ion-item *ngIf=\\\"upgrade\\\">\\n        <ion-label class=\\\"ion-padding-left\\\">\\n          <ion-button expand=\\\"full\\\" color=\\\"primary\\\" [routerLink]=\\\"['/tabs/upgrade']\\\">Upgrade</ion-button>\\n        </ion-label>\\n      </ion-item>\\n      <ion-item *ngIf=\\\"freeTrial\\\">\\n        <ion-label class=\\\"ion-padding-left\\\">\\n          <p></p>\\n          <ion-button expand=\\\"full\\\" color=\\\"primary\\\" (click)=\\\"freetrial()\\\">Start free Trial</ion-button>\\n        </ion-label>\\n      </ion-item>\\n      <ion-item *ngIf=\\\"!upgrade\\\">\\n        <ion-icon slot=\\\"start\\\" name=\\\"timer-outline\\\"></ion-icon>\\n        <ion-label>\\n          <p>Expires on</p>\\n          <h2>{{result.subscription_expiry}} </h2>\\n        </ion-label>\\n      </ion-item>\\n\\n      <ion-item *ngIf=\\\"showLinkCh\\\">\\n        <ion-label>\\n          <ion-button (click)=\\\"linkCH()\\\" expand=\\\"block\\\" color=\\\"light\\\" fill=\\\"clear\\\">\\n            Link Clubhouse\\n          </ion-button>\\n        </ion-label>\\n      </ion-item>\\n\\n      <ion-item *ngIf=\\\"showLinkGr\\\">\\n        <ion-label>\\n          <ion-button (click)=\\\"linkGR()\\\" expand=\\\"block\\\" color=\\\"success\\\">\\n            Link Greenroom\\n          </ion-button>\\n        </ion-label>\\n      </ion-item>\\n\\n      <ion-item *ngIf=\\\"showLinkRally\\\">\\n        <ion-label>\\n          <ion-button (click)=\\\"linkRally()\\\" expand=\\\"block\\\" color=\\\"secondary\\\">\\n            Link Rally\\n          </ion-button>\\n        </ion-label>\\n      </ion-item>\\n\\n\\n\\n\\n\\n\\n\\n\\n    </ion-card-content>\\n  </ion-card>\\n</ion-content>\\n\";"],"sourceRoot":"webpack:///"}