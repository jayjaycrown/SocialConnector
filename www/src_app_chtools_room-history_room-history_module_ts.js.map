{"version":3,"sources":["./src/app/chtools/room-history/room-history-routing.module.ts","./src/app/chtools/room-history/room-history.module.ts","./src/app/chtools/room-history/room-history.page.ts","./src/app/chtools/room-history/room-history.page.scss","./src/app/chtools/room-history/room-history.page.html"],"names":[],"mappings":"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","file":"src_app_chtools_room-history_room-history_module_ts.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { RoomHistoryPage } from './room-history.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: RoomHistoryPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class RoomHistoryPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { RoomHistoryPageRoutingModule } from './room-history-routing.module';\n\nimport { RoomHistoryPage } from './room-history.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RoomHistoryPageRoutingModule\n  ],\n  declarations: [RoomHistoryPage]\n})\nexport class RoomHistoryPageModule {}\n","/* eslint-disable @typescript-eslint/naming-convention */\nimport { Component, OnInit } from '@angular/core';\nimport { NgForm } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { LoadingController, ToastController, AlertController } from '@ionic/angular';\nimport { AppService } from '../../_services/app.service';\nimport {format} from 'date-fns';\n\n@Component({\n  selector: 'app-room-history',\n  templateUrl: './room-history.page.html',\n  styleUrls: ['./room-history.page.scss'],\n})\nexport class RoomHistoryPage implements OnInit {\n\n  historyForm;\n\tmodel: any = {};\n\tallRooms: any = [];\n\tmoderators: any = {};\n\troomId: any;\n\t// tslint:disable-next-line: variable-name\n\tapi_token: any;\n\tpage = 1;\n\tdate: '';\n  disable = false;\n  setDisplay = false;\n  constructor(\n    private app: AppService,\n    private router: Router,\n    private loadingController: LoadingController,\n    private toastController: ToastController,\n    private alertController: AlertController\n  ) { }\n\n  async ionViewWillEnter() {\n    const user: any = await JSON.parse(localStorage.getItem('user'));\n\t   const result = user.result;\n    this.api_token = result.api_token;\n    this.getRoomHistory();\n  }\n\n  async ngOnInit() {\n  }\n\n  async presentToast(color, message) {\n    const toast = await this.toastController.create({\n      message,\n      color,\n      duration: 3000\n    });\n    toast.present();\n  }\n\n  async getRoomHistory() {\n    const loading = await this.loadingController.create({\n      spinner: null,\n      cssClass: 'custom-loading'\n    });\n    await loading.present();\n    this.app.getRoomHistory(this.page, this.api_token).subscribe(async (res: any) => {\n      await loading.dismiss();\n      if (res.status === 'success') {\n        this.setDisplay = true;\n        this.allRooms = res.result;\n        // console.log(this.allRooms);\n      } else {\n        const color = 'danger';\n\t\t\t\tthis.presentToast(color, res.message);\n\t\t\t\t\t}\n    });\n  }\n\n  analyze(roomId) {\n\t\t// alert(roomId);\n\t\tthis.router.navigateByUrl('/tabs/chtools/track/' + roomId);\n  }\n\n  next(fastForward) {\n\t\tif (fastForward === 'forward') {\n\t\t\tthis.page += 1;\n      this.setDisplay = false;\n\t\t\tthis.getRoomHistory();\n\t\t} else {\n\t\t\tif (this.page > 1) {\n\t\t\t\tthis.page -= 1;\n        this.setDisplay = false;\n\t\t\t\tthis.getRoomHistory();\n\t\t\t} else {\n\t\t\t\tthis.page = 1;\n\t\t\t}\n\t\t}\n\t\t// alert(this.page);\n  }\n\n  async onSubmit() {\n    let date = this.model.date;\n    date =  format(new Date(date), 'yyyy-MM-dd');\n    // console.log(date);\n    // const date = form.value.toLocaleDateString().split(',')[0];\n    // console.log(date);\n\t\t// console.log(this.model);\n    // const date = this.model.dates;\n    const loading = await this.loadingController.create({\n      spinner: null,\n      cssClass: 'custom-loading'\n      });\n    await loading.present();\n\t\t  this.app.getRoomHistorySort(this.page, this.api_token, date).subscribe(async (res: any) => {\n        if (res.status === 'success') {\n        await loading.dismiss();\n        this.allRooms = res.result;\n        // console.log(this.allRooms);\n        } else if (res.status === 'upgrade') {\n          await loading.dismiss();\n          const color = 'danger';\n          this.presentToast(color, res.message);\n\t\t\t\t// this.alertService.danger(res.message);\n\t\t\t\t      this.router.navigateByUrl('/tabs/upgrade');\n        } else if (res.status === 'validate') {\n          await loading.dismiss();\n          const color = 'danger';\n          this.presentToast(color, res.message);\n\t\t\t\t// this.alertService.danger(res.message);\n\t\t\t       this.router.navigateByUrl('/auth/validate/ ' + this.api_token);\n\t\t\t} else {\n            // this.alertService.danger(res.message);\n        const color = 'danger';\n        this.presentToast(color, res.message);\n\t\t\t\t\t}\n\t\t\t// console.log(res);\n\t\t\t// this.allRooms = res.result;\n\t\t});\n  }\n\n  goHome() {}\n\n}\n","export default \"ion-card.test {\\n  width: 100% !important;\\n}\\n\\nion-item {\\n  border-radius: 0 !important;\\n  --border-radius: 0 !important ;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJvb20taGlzdG9yeS5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxzQkFBQTtBQUNGOztBQUNBO0VBQ0UsMkJBQUE7RUFDQSw4QkFBQTtBQUVGIiwiZmlsZSI6InJvb20taGlzdG9yeS5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpb24tY2FyZC50ZXN0e1xyXG4gIHdpZHRoOiAxMDAlICFpbXBvcnRhbnQ7XHJcbn1cclxuaW9uLWl0ZW17XHJcbiAgYm9yZGVyLXJhZGl1czogMCAhaW1wb3J0YW50O1xyXG4gIC0tYm9yZGVyLXJhZGl1czogMCAhaW1wb3J0YW50XHJcbn1cclxuIl19 */\";","export default \"<ion-header class=\\\"ion-no-border\\\" mode=\\\"ios\\\">\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button autoHide=\\\"false\\\"></ion-menu-button>\\n    </ion-buttons>\\n    <ion-title>\\n      History\\n    </ion-title>\\n    <ion-buttons slot=\\\"end\\\">\\n      <ion-button fill=\\\"clear\\\" [routerLink]=\\\"['/tabs']\\\" routerLinkActive=\\\"router-link-active\\\" routerDirection=\\\"back\\\">\\n        <ion-icon name=\\\"close\\\" slot=\\\"icon-only\\\" style=\\\"width: 36px !important; height: 36px !important;\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<!-- <ion-content *ngIf=\\\"!setDisplay\\\">\\n  <ion-progress-bar [type]=\\\"'indeterminate'\\\"></ion-progress-bar>\\n</ion-content> -->\\n<ion-content>\\n  <div class=\\\"ion-padding\\\">\\n    <ion-card>\\n      <ion-card-content>\\n        <form name=\\\"form\\\" #historyForm=\\\"ngForm\\\" (ngSubmit)=\\\"historyForm.valid && onSubmit()\\\">\\n          <ion-item>\\n            <ion-label position=\\\"floating\\\">MM/DD/YYYY</ion-label>\\n            <ion-datetime name=\\\"date\\\" [(ngModel)]=\\\"model.date\\\" #email=\\\"ngModel\\\" displayFormat=\\\"MM/DD/YYYY\\\"\\n              min=\\\"2016-01-01\\\" max=\\\"2022-12-31\\\" required>\\n            </ion-datetime>\\n          </ion-item>\\n          <ion-button type=\\\"submit\\\" [disabled]=\\\"!historyForm.valid\\\" expand=\\\"full\\\" color=\\\"primary\\\">Get History\\n          </ion-button>\\n        </form>\\n\\n      </ion-card-content>\\n    </ion-card>\\n  </div>\\n  <br>\\n  <ion-item lines=\\\"none\\\" *ngFor=\\\"let allRoom of allRooms\\\">\\n    <ion-card (click)=\\\"analyze(allRoom.channel)\\\" class=\\\"test\\\">\\n      <ion-card-header class=\\\"ion-text-center\\\">\\n        <ion-card-title>{{ allRoom.topic }}</ion-card-title>\\n      </ion-card-header>\\n      <ion-card-content>\\n        <ion-list>\\n          <ion-item>\\n            <ion-label>\\n              <!-- <p></p> -->\\n              <h3>\\n                <span class=\\\"ion-float-left\\\">Total Listeners</span>\\n                <span class=\\\"ion-float-right\\\">{{ allRoom.end_total_listeners }}</span>\\n              </h3>\\n            </ion-label>\\n          </ion-item>\\n          <ion-item>\\n            <ion-label>\\n              <!-- <p></p> -->\\n              <h3>\\n                <span class=\\\"ion-float-left\\\">Total Speakers</span>\\n                <span class=\\\"ion-float-right\\\">{{ allRoom.end_total_speakers }}</span>\\n              </h3>\\n            </ion-label>\\n          </ion-item>\\n          <ion-item>\\n            <ion-label>\\n              <h3>\\n                <span class=\\\"ion-float-left\\\">Room Started</span>\\n                <span class=\\\"ion-float-right\\\">{{ allRoom.date_started }}</span>\\n              </h3>\\n            </ion-label>\\n          </ion-item>\\n          <div *ngIf=\\\"allRoom.date_ended;else templateName\\\">\\n            <ion-item>\\n              <ion-label>\\n                <!-- <p></p> -->\\n                <h3>\\n                  <span class=\\\"ion-float-left\\\">Room Status</span>\\n                  <span class=\\\"ion-float-right\\\">Ended</span>\\n                </h3>\\n              </ion-label>\\n            </ion-item>\\n            <ion-item>\\n              <ion-label>\\n                <!-- <p>Room Status</p> -->\\n                <h3>\\n                  <span class=\\\"ion-float-left\\\">Ended on </span>\\n                  <span class=\\\"ion-float-right\\\"> {{ allRoom.date_ended }} </span>\\n                </h3>\\n              </ion-label>\\n            </ion-item>\\n          </div>\\n          <ng-template #templateName>\\n            <ion-item>\\n              <ion-label>\\n                <!-- <p>Room Status</p> -->\\n                <h3>\\n                  <span class=\\\"ion-float-left\\\">Room Status</span>\\n                  <span class=\\\"ion-float-right\\\">Active</span>\\n                </h3>\\n              </ion-label>\\n            </ion-item>\\n          </ng-template>\\n\\n        </ion-list>\\n      </ion-card-content>\\n    </ion-card>\\n\\n  </ion-item>\\n\\n  <ion-item *ngIf=\\\"allRooms?.length > 0\\\">\\n    <ion-grid class=\\\"ion-text-center\\\" style=\\\"background:#fff !important\\\">\\n      <ion-row>\\n        <ion-col size=\\\"3\\\"></ion-col>\\n        <ion-col size=\\\"3\\\">\\n          <ion-button fill=\\\"clear\\\" (click)=\\\"next('back')\\\">\\n            <ion-icon slot=\\\"icon-only\\\" name=\\\"play-back-outline\\\"></ion-icon>\\n          </ion-button>\\n        </ion-col>\\n        <ion-col size=\\\"3\\\">\\n          <ion-button fill=\\\"clear\\\" (click)=\\\"next('forward')\\\">\\n            <ion-icon slot=\\\"icon-only\\\" name=\\\"play-forward-outline\\\"></ion-icon>\\n          </ion-button>\\n        </ion-col>\\n        <ion-col size=\\\"3\\\"></ion-col>\\n      </ion-row>\\n    </ion-grid>\\n  </ion-item>\\n\\n</ion-content>\\n\";"],"sourceRoot":"webpack:///"}